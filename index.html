<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ìš°ë¦¬ì•„ì´ AIëŠ¥ë ¥ ì§„ë‹¨ê²€ì‚¬</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4A9D9A;
            --primary-dark: #3A8280;
            --primary-light: #E8F4F3;
            --accent: #FF8A7A;
            --accent-light: #FFF0EE;
            --bg: #FAFAF8;
            --card: #FFFFFF;
            --text-primary: #2D3748;
            --text-secondary: #5A6778;
            --text-muted: #8896A6;
            --border: #E8ECF0;
            --shadow: rgba(74, 157, 154, 0.08);
            --shadow-hover: rgba(74, 157, 154, 0.15);
            --error: #E53E3E;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 520px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        .screen {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Landing Screen */
        .landing {
            text-align: center;
            padding-top: 40px;
        }

        .logo-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--primary-light);
            color: var(--primary);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 24px;
        }

        .logo-badge svg {
            width: 18px;
            height: 18px;
        }

        .landing h1 {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.3;
        }

        .landing h1 span {
            color: var(--primary);
        }

        .landing .subtitle {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 32px;
            line-height: 1.7;
        }

        .info-card {
            background: var(--card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 12px var(--shadow);
            text-align: left;
        }

        .info-card h3 {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 16px;
            display: flex;
            flex-direction: column-reverse;
            align-items: flex-start;
            gap: 8px;
        }

        .info-card h3 svg {
            width: 20px;
            height: 20px;
            color: var(--primary);
        }

        .info-list {
            list-style: none;
        }

        .info-list li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 10px 0;
            font-size: 14px;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border);
        }

        .info-list li:last-child {
            border-bottom: none;
        }

        .info-list .icon {
            width: 24px;
            height: 24px;
            background: var(--primary-light);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 12px;
        }

        /* Demographics Section */
        .demographics-section {
            background: var(--card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 12px var(--shadow);
            text-align: left;
        }

        .demographics-section h3 {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 20px;
            display: flex;
            flex-direction: column-reverse;
            align-items: flex-start;
            gap: 8px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .form-group label .required {
            color: var(--error);
            margin-left: 4px;
        }

        .form-group label .hint {
            font-weight: 400;
            color: var(--text-muted);
            font-size: 13px;
            display: block;
            margin-top: 4px;
        }

        .age-input-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .age-input {
            width: 100px;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
            text-align: center;
            transition: all 0.2s ease;
            background: white;
            -moz-appearance: textfield;
        }

        .age-input::-webkit-outer-spin-button,
        .age-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .age-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 157, 154, 0.1);
        }

        .age-input.error {
            border-color: var(--error);
        }

        .age-suffix {
            font-size: 15px;
            color: var(--text-secondary);
        }

        /* Spending Options */
        .spending-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .spending-option {
            position: relative;
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 14px 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .spending-option:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .spending-option.selected {
            border-color: var(--primary);
            background: var(--primary-light);
            box-shadow: 0 0 0 3px rgba(74, 157, 154, 0.15);
        }

        .spending-option.error {
            border-color: var(--error);
        }

        .spending-option input {
            display: none;
        }

        .spending-option span {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .spending-option.selected span {
            color: var(--primary-dark);
            font-weight: 600;
        }

        /* Consent Section */
        .consent-section {
            background: var(--card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 12px var(--shadow);
            text-align: left;
        }

        .consent-section h3 {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 16px;
            display: flex;
            flex-direction: column-reverse;
            align-items: flex-start;
            gap: 8px;
        }

        .consent-box {
            background: var(--bg);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            max-height: 150px;
            overflow-y: auto;
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.7;
        }

        .consent-box h4 {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 12px 0 8px;
        }

        .consent-box h4:first-child {
            margin-top: 0;
        }

        .consent-box ul {
            margin-left: 16px;
            margin-bottom: 8px;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            background: var(--primary-light);
            border-radius: 10px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s ease;
        }

        .checkbox-group:hover {
            border-color: var(--primary);
        }

        .checkbox-group.checked {
            border-color: var(--primary);
        }

        .checkbox-group.error {
            border-color: var(--error);
            background: #FFF5F5;
        }

        .checkbox-input {
            display: none;
        }

        .checkbox-custom {
            width: 22px;
            height: 22px;
            border: 2px solid var(--border);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            background: white;
            transition: all 0.2s ease;
        }

        .checkbox-group.checked .checkbox-custom {
            background: var(--primary);
            border-color: var(--primary);
        }

        .checkbox-custom svg {
            width: 14px;
            height: 14px;
            color: white;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .checkbox-group.checked .checkbox-custom svg {
            opacity: 1;
        }

        .checkbox-label {
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
            line-height: 1.5;
        }

        .checkbox-label .required {
            color: var(--error);
            font-weight: 600;
        }

        .error-message {
            color: var(--error);
            font-size: 13px;
            margin-top: 8px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        /* Email Input */
        .email-section {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border);
        }

        .email-section label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .email-section label span {
            font-weight: 400;
            color: var(--text-muted);
            font-size: 13px;
        }

        .email-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.2s ease;
            background: white;
        }

        .email-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 157, 154, 0.1);
        }

        .email-input::placeholder {
            color: var(--text-muted);
        }

        /* Buttons */
        .btn-primary {
            width: 100%;
            padding: 18px 32px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 14px rgba(74, 157, 154, 0.3);
            font-family: inherit;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 157, 154, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-primary:disabled {
            background: var(--text-muted);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            width: 100%;
            padding: 16px 24px;
            background: var(--card);
            color: var(--primary);
            border: 2px solid var(--primary);
            border-radius: 14px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .btn-secondary:hover {
            background: var(--primary-light);
        }

        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--border);
        }

        .trust-badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .trust-badge svg {
            width: 24px;
            height: 24px;
            color: var(--primary);
            opacity: 0.7;
        }

        /* Question Screen */
        .question-screen {
            padding-top: 20px;
        }

        .progress-container {
            margin-bottom: 32px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .progress-text {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
        }

        .progress-count {
            font-size: 13px;
            color: var(--text-muted);
        }

        .progress-bar {
            height: 8px;
            background: var(--primary-light);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, #5FB5B2 100%);
            border-radius: 4px;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .question-card {
            background: var(--card);
            border-radius: 20px;
            padding: 28px 24px;
            box-shadow: 0 4px 20px var(--shadow);
            margin-bottom: 20px;
        }

        .question-number {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.5;
            margin-bottom: 8px;
        }

        .question-hint {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 24px;
        }

        /* Likert Scale */
        .likert-container {
            display: flex;
            flex-direction: column;
            gap: 0;
        }

        .likert-labels {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            padding: 0 4px;
        }

        .likert-labels span {
            font-size: 11px;
            color: var(--text-muted);
            text-align: center;
            flex: 1;
        }

        .likert-options {
            display: flex;
            justify-content: space-between;
            gap: 8px;
        }

        .likert-option {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }

        .likert-option input {
            display: none;
        }

        .likert-circle {
            width: 48px;
            height: 48px;
            border: 3px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 700;
            color: var(--text-muted);
            background: white;
            transition: all 0.2s ease;
        }

        .likert-option:hover .likert-circle {
            border-color: var(--primary);
            color: var(--primary);
        }

        .likert-option.selected .likert-circle {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
            box-shadow: 0 4px 12px rgba(74, 157, 154, 0.3);
            transform: scale(1.1);
        }

        .likert-option .likert-label {
            margin-top: 8px;
            font-size: 11px;
            color: var(--text-muted);
            text-align: center;
            line-height: 1.3;
        }

        .likert-option.selected .likert-label {
            color: var(--primary);
            font-weight: 600;
        }

        /* Multi-select Options (Q2) */
        .multi-select-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .multi-select-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            padding: 10px 14px;
            background: var(--primary-light);
            border-radius: 10px;
        }

        .multi-select-header span {
            font-size: 14px;
            color: var(--primary);
            font-weight: 600;
        }

        .selection-count {
            font-size: 13px;
            color: var(--text-muted);
        }

        .selection-count strong {
            color: var(--primary);
        }

        .multi-option {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 14px 16px;
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .multi-option:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .multi-option.selected {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .multi-option input {
            display: none;
        }

        .multi-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            background: white;
            transition: all 0.2s ease;
        }

        .multi-option.selected .multi-checkbox {
            background: var(--primary);
            border-color: var(--primary);
        }

        .multi-checkbox svg {
            width: 14px;
            height: 14px;
            color: white;
            opacity: 0;
        }

        .multi-option.selected .multi-checkbox svg {
            opacity: 1;
        }

        .multi-option-text {
            font-size: 15px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .multi-option.selected .multi-option-text {
            color: var(--primary-dark);
            font-weight: 600;
        }

        .multi-nav-btn {
            margin-top: 16px;
        }

        /* Result Screen */
        .result-screen {
            padding-top: 30px;
            text-align: center;
        }

        .result-card {
            background: var(--card);
            border-radius: 24px;
            padding: 32px 24px;
            box-shadow: 0 8px 32px var(--shadow);
            margin-bottom: 20px;
        }

        .result-badge {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .result-badge.level-1 { background: #E8F5E9; color: #2E7D32; }
        .result-badge.level-2 { background: #E3F2FD; color: #1565C0; }
        .result-badge.level-3 { background: #FFF8E1; color: #F57F17; }
        .result-badge.level-4 { background: #FFF3E0; color: #E65100; }
        .result-badge.level-5 { background: #FFEBEE; color: #C62828; }

        .result-score {
            margin-bottom: 24px;
        }

        .score-circle {
            width: 140px;
            height: 140px;
            margin: 0 auto 16px;
            position: relative;
        }

        .score-circle svg {
            transform: rotate(-90deg);
            width: 140px;
            height: 140px;
        }

        .score-circle .bg {
            fill: none;
            stroke: var(--border);
            stroke-width: 10;
        }

        .score-circle .progress {
            fill: none;
            stroke-width: 10;
            stroke-linecap: round;
            transition: stroke-dashoffset 1s ease;
        }

        .score-circle .progress.level-1 { stroke: #4CAF50; }
        .score-circle .progress.level-2 { stroke: #2196F3; }
        .score-circle .progress.level-3 { stroke: #FFC107; }
        .score-circle .progress.level-4 { stroke: #FF9800; }
        .score-circle .progress.level-5 { stroke: #F44336; }

        .score-value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 36px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .score-value span {
            font-size: 18px;
            font-weight: 500;
            color: var(--text-muted);
        }

        .result-title {
            font-size: 22px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .result-description {
            font-size: 15px;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 24px;
        }

        .result-advice {
            background: var(--bg);
            border-radius: 14px;
            padding: 20px;
            text-align: left;
        }

        .result-advice h4 {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-advice ul {
            list-style: none;
        }

        .result-advice li {
            position: relative;
            padding-left: 20px;
            margin-bottom: 10px;
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .result-advice li:before {
            content: "â€¢";
            position: absolute;
            left: 6px;
            color: var(--primary);
            font-weight: bold;
        }

        .result-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 20px;
        }

        .share-btn {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s ease;
        }

        .share-btn:hover {
            transform: scale(1.1);
        }

        .share-btn.copy { background: var(--primary-light); color: var(--primary); }

        .share-btn svg {
            width: 24px;
            height: 24px;
        }

        /* Submission Status */
        .submit-status {
            margin-top: 16px;
            padding: 12px 16px;
            border-radius: 10px;
            font-size: 14px;
            display: none;
        }

        .submit-status.success {
            display: block;
            background: #E8F5E9;
            color: #2E7D32;
        }

        .submit-status.error {
            display: block;
            background: #FFEBEE;
            color: #C62828;
        }

        .submit-status.loading {
            display: block;
            background: var(--primary-light);
            color: var(--primary);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 24px 0;
            font-size: 12px;
            color: var(--text-muted);
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--text-primary);
            color: white;
            padding: 14px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Animations */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid currentColor;
            border-right-color: transparent;
            border-radius: 50%;
            animation: spin 0.75s linear infinite;
            margin-right: 8px;
            vertical-align: middle;
        }

        /* Responsive */
        @media (max-width: 400px) {
            .container {
                padding: 16px;
            }

            .landing h1 {
                font-size: 24px;
            }

            .question-text {
                font-size: 16px;
            }

            .likert-circle {
                width: 40px;
                height: 40px;
                font-size: 14px;
            }

            .spending-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Landing Screen -->
        <div id="landing" class="screen active landing">
            <div class="logo-badge">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                </svg>
                AI ì‹œëŒ€ êµìœ¡ì—°êµ¬ì†Œ
            </div>

            <h1>ìš°ë¦¬ ì•„ì´<br><span>AI í™œìš©ëŠ¥ë ¥</span> ì§„ë‹¨ê²€ì‚¬</h1>

            <p class="subtitle">
                AIì™€ í•¨ê»˜ ìë¼ëŠ” ì•„ì´,<br>
                ê±´ê°•í•˜ê²Œ í™œìš©í•˜ê³  ìˆì„ê¹Œìš”?
            </p>

            <div class="info-card">
                <h3>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 16v-4M12 8h.01"/>
                    </svg>
                    ê²€ì‚¬ ì•ˆë‚´
                </h3>
                <ul class="info-list">
                    <li>
                        <span class="icon">ğŸ“</span>
                        <span>ì´ <strong>10ë¬¸í•­</strong>, ì•½ 3ë¶„ ì†Œìš”</span>
                    </li>
                    <li>
                        <span class="icon">ğŸ‘€</span>
                        <span>í‰ì†Œ ì•„ì´ì˜ ëª¨ìŠµì„ ë– ì˜¬ë¦¬ë©° ì‘ë‹µí•´ì£¼ì„¸ìš”</span>
                    </li>
                    <li>
                        <span class="icon">ğŸ’¡</span>
                        <span>ì •ë‹µì´ ì—†ì–´ìš”. <strong>ì†”ì§í•œ ì‘ë‹µ</strong>ì´ ì •í™•í•œ ê²°ê³¼ë¥¼ ë§Œë“­ë‹ˆë‹¤</span>
                    </li>
                </ul>
            </div>

            <!-- Demographics Section -->
            <div class="demographics-section">
                <h3>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    ì•„ì´ ì •ë³´
                </h3>

                <div class="form-group">
                    <label for="ageInput">
                        ì•„ì´ ë‚˜ì´<span class="required">*</span>
                        <span class="hint">ë§Œ ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</span>
                    </label>
                    <div class="age-input-wrapper">
                        <input type="number" class="age-input" id="ageInput" min="1" max="25" placeholder="ì˜ˆ: 12">
                        <span class="age-suffix">ì„¸</span>
                    </div>
                    <p class="error-message" id="ageError">ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (1-25ì„¸)</p>
                </div>

                <div class="form-group">
                    <label>
                        ì›” í‰ê·  ì‚¬êµìœ¡ë¹„<span class="required">*</span>
                        <span class="hint">í•™ì›, ê³¼ì™¸, ì˜¨ë¼ì¸ ê°•ì˜ ë“± í¬í•¨</span>
                    </label>
                    <div class="spending-options" id="spendingOptions">
                        <label class="spending-option" onclick="selectSpending(this, 'ì—†ìŒ (0ì›)')">
                            <input type="radio" name="spending" value="ì—†ìŒ (0ì›)">
                            <span>ì—†ìŒ (0ì›)</span>
                        </label>
                        <label class="spending-option" onclick="selectSpending(this, '10ë§Œì› ë¯¸ë§Œ')">
                            <input type="radio" name="spending" value="10ë§Œì› ë¯¸ë§Œ">
                            <span>10ë§Œì› ë¯¸ë§Œ</span>
                        </label>
                        <label class="spending-option" onclick="selectSpending(this, '10-30ë§Œì›')">
                            <input type="radio" name="spending" value="10-30ë§Œì›">
                            <span>10-30ë§Œì›</span>
                        </label>
                        <label class="spending-option" onclick="selectSpending(this, '30-50ë§Œì›')">
                            <input type="radio" name="spending" value="30-50ë§Œì›">
                            <span>30-50ë§Œì›</span>
                        </label>
                        <label class="spending-option" onclick="selectSpending(this, '50-100ë§Œì›')">
                            <input type="radio" name="spending" value="50-100ë§Œì›">
                            <span>50-100ë§Œì›</span>
                        </label>
                        <label class="spending-option" onclick="selectSpending(this, '100ë§Œì› ì´ìƒ')">
                            <input type="radio" name="spending" value="100ë§Œì› ì´ìƒ">
                            <span>100ë§Œì› ì´ìƒ</span>
                        </label>
                    </div>
                    <p class="error-message" id="spendingError">ì‚¬êµìœ¡ë¹„ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</p>
                </div>
            </div>

            <!-- Consent Section -->
            <div class="consent-section">
                <h3>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜
                </h3>

                <div class="consent-box">
                    <h4>1. ìˆ˜ì§‘ í•­ëª©</h4>
                    <ul>
                        <li>í•„ìˆ˜: ì•„ì´ ë‚˜ì´, ì›” ì‚¬êµìœ¡ë¹„, ê²€ì‚¬ ì‘ë‹µ, ì´ì , ê²€ì‚¬ ì¼ì‹œ</li>
                        <li>ì„ íƒ: ì´ë©”ì¼ ì£¼ì†Œ</li>
                    </ul>

                    <h4>2. ìˆ˜ì§‘ ëª©ì </h4>
                    <ul>
                        <li>AI í™œìš©ëŠ¥ë ¥ ì§„ë‹¨ ê²°ê³¼ ì œê³µ</li>
                        <li>ì—°ë ¹ëŒ€/ì‚¬êµìœ¡ë¹„ë³„ í†µê³„ ë¶„ì„</li>
                        <li>ì´ë©”ì¼ ì œê³µ ì‹œ: ë§ì¶¤ êµìœ¡ ì •ë³´ ë°œì†¡</li>
                    </ul>

                    <h4>3. ë³´ìœ  ê¸°ê°„</h4>
                    <p>ìˆ˜ì§‘ì¼ë¡œë¶€í„° 1ë…„ê°„ ë³´ìœ  í›„ íŒŒê¸°</p>

                    <h4>4. ë™ì˜ ê±°ë¶€ê¶Œ ë° ë¶ˆì´ìµ</h4>
                    <p>ë™ì˜ë¥¼ ê±°ë¶€í•  ê¶Œë¦¬ê°€ ìˆìœ¼ë©°, í•„ìˆ˜ ë™ì˜ ê±°ë¶€ ì‹œ ê²€ì‚¬ ì´ìš©ì´ ì œí•œë©ë‹ˆë‹¤.</p>
                </div>

                <div class="checkbox-group" id="consentCheckbox" onclick="toggleConsent()">
                    <input type="checkbox" class="checkbox-input" id="consentInput">
                    <span class="checkbox-custom">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                    </span>
                    <span class="checkbox-label">
                        <span class="required">[í•„ìˆ˜]</span> ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.
                    </span>
                </div>
                <p class="error-message" id="consentError">ê²€ì‚¬ë¥¼ ì‹œì‘í•˜ë ¤ë©´ ê°œì¸ì •ë³´ ìˆ˜ì§‘ì— ë™ì˜í•´ì£¼ì„¸ìš”.</p>

                <div class="email-section">
                    <label for="emailInput">
                        ì´ë©”ì¼ <span>(ì„ íƒ - ë§ì¶¤ êµìœ¡ ì •ë³´ ìˆ˜ì‹ )</span>
                    </label>
                    <input type="email" class="email-input" id="emailInput" placeholder="example@email.com">
                </div>
            </div>

            <button class="btn-primary" onclick="startTest()">
                ê²€ì‚¬ ì‹œì‘í•˜ê¸°
            </button>

            <div class="trust-badges">
                <div class="trust-badge">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    <span>SSL ì•”í˜¸í™”</span>
                </div>
                <div class="trust-badge">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                    <span>ì•ˆì „í•œ ì €ì¥</span>
                </div>
                <div class="trust-badge">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                    <span>ì „ë¬¸ê°€ ì„¤ê³„</span>
                </div>
            </div>
        </div>

        <!-- Question Screen -->
        <div id="question" class="screen question-screen">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text">ì§„í–‰ì¤‘</span>
                    <span class="progress-count"><span id="currentQ">1</span> / 10</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 10%"></div>
                </div>
            </div>

            <div class="question-card">
                <span class="question-number" id="questionNumber">Q1</span>
                <h2 class="question-text" id="questionText"></h2>
                <p class="question-hint" id="questionHint"></p>

                <div id="optionsContainer">
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result" class="screen result-screen">
            <div class="result-card">
                <span class="result-badge" id="resultBadge">ììœ¨ì  ì‚¬ê³  ìœ ì§€</span>

                <div class="result-score">
                    <div class="score-circle">
                        <svg viewBox="0 0 140 140">
                            <circle class="bg" cx="70" cy="70" r="60"/>
                            <circle class="progress" id="scoreCircle" cx="70" cy="70" r="60"
                                stroke-dasharray="377" stroke-dashoffset="377"/>
                        </svg>
                        <div class="score-value">
                            <span id="scoreValue">0</span><span>ì </span>
                        </div>
                    </div>
                </div>

                <h3 class="result-title" id="resultTitle">ììœ¨ì  ì‚¬ê³ ë¥¼ ìœ ì§€í•˜ê³  ìˆì–´ìš”</h3>
                <p class="result-description" id="resultDescription"></p>

                <div class="result-advice">
                    <h4>
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 16v-4M12 8h.01"/>
                        </svg>
                        ë¶€ëª¨ë‹˜ ê°€ì´ë“œ
                    </h4>
                    <ul id="adviceList">
                    </ul>
                </div>

                <div class="submit-status" id="submitStatus"></div>
            </div>

            <div class="result-actions">
                <button class="btn-primary" onclick="restartTest()">
                    ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°
                </button>
                <button class="btn-secondary" onclick="copyResult()">
                    ê²°ê³¼ ë³µì‚¬í•˜ê¸°
                </button>
            </div>

            <div class="share-buttons">
                <button class="share-btn copy" onclick="copyResult()" title="ë§í¬ ë³µì‚¬">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="footer">
            ê²€ì‚¬ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì „ë¬¸ ìƒë‹´ì„ ëŒ€ì²´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
            <span style="color: var(--text-muted);">ë¬¸ì˜: your-email@example.com</span>
        </div>
    </div>

    <div class="toast" id="toast">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>

    <script>
        // ============================================
        // ì„¤ì •: Google Apps Script ì›¹ì•± URL
        // ============================================
        const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbzWsZOsjh19gv9_XzrtghzJTcubUk0R3h86SWa-Br0Wjs88jVl0JWD9v27e7mTEJjY3/exec';
        // ============================================

        // Likert Scale Labels
        const likertLabels = [
            { value: 1, label: 'ì „í˜€\nê·¸ë ‡ì§€ ì•Šë‹¤', score: 0 },
            { value: 2, label: 'ê·¸ë ‡ì§€\nì•Šë‹¤', score: 2.5 },
            { value: 3, label: 'ë³´í†µ\nì´ë‹¤', score: 5 },
            { value: 4, label: 'ê·¸ë ‡ë‹¤', score: 7.5 },
            { value: 5, label: 'ë§¤ìš°\nê·¸ë ‡ë‹¤', score: 10 }
        ];

        // Question Data - Likert format (except Q2)
        const questions = [
            {
                id: 1,
                type: 'likert',
                title: "ì‘ì—… ì‹œì‘ ë°©ì‹",
                text: "ìˆ™ì œë‚˜ ê³¼ì œë¥¼ ì‹œì‘í•  ë•Œ AIë¶€í„° ë¨¼ì € ì¼ ë‹¤.",
                hint: "í‰ì†Œ ìŠµê´€ì„ ë– ì˜¬ë ¤ ì£¼ì„¸ìš”"
            },
            {
                id: 2,
                type: 'multi',
                title: "AI í™œìš© ìš©ë„",
                text: "ì•„ì´ê°€ AIë¥¼ ì–´ë–¤ ìš©ë„ë¡œ ì‚¬ìš©í•˜ë‚˜ìš”?",
                hint: "í•´ë‹¹í•˜ëŠ” ê²ƒì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš” (ì„ íƒë‹¹ 1ì )",
                options: [
                    "ëª¨ë¥´ëŠ” ê²ƒ ê²€ìƒ‰/ì‚¬ì‹¤ í™•ì¸",
                    "ìˆ™ì œë‚˜ ê³¼ì œ ë‹µ ì°¾ê¸°",
                    "ê¸€ì“°ê¸°/ì‘ë¬¸ ë„ì›€",
                    "ì½”ë”©/í”„ë¡œê·¸ë˜ë° í•™ìŠµ",
                    "ì™¸êµ­ì–´ ë²ˆì—­",
                    "ìˆ˜í•™ ë¬¸ì œ í’€ì´",
                    "ì•„ì´ë””ì–´ ë¸Œë ˆì¸ìŠ¤í† ë°",
                    "ë‚´ìš© ìš”ì•½/ì •ë¦¬",
                    "ëŒ€í™” ìƒëŒ€/ì‹¬ì‹¬í’€ì´",
                    "ì°½ì‘ í™œë™ (ê·¸ë¦¼, ìŒì•… ë“±)"
                ]
            },
            {
                id: 3,
                type: 'likert',
                title: "ë§‰í ë•Œ ëŒ€ì²˜",
                text: "ëª¨ë¥´ëŠ” ë¬¸ì œê°€ ìˆìœ¼ë©´ ë°”ë¡œ AIì—ê²Œ ë¬¼ì–´ë³¸ë‹¤.",
                hint: "í‰ì†Œ ìŠµê´€ì„ ë– ì˜¬ë ¤ ì£¼ì„¸ìš”"
            },
            {
                id: 4,
                type: 'likert',
                title: "AI ì—†ëŠ” ì‘ì—… ê°€ëŠ¥ì„±",
                text: "AI ì—†ì´ëŠ” ê³¼ì œë¥¼ ì‹œì‘í•˜ê¸° ì–´ë µë‹¤.",
                hint: "AIê°€ ì—†ëŠ” ìƒí™©ì„ ìƒìƒí•´ ì£¼ì„¸ìš”"
            },
            {
                id: 5,
                type: 'likert',
                title: "íŒë‹¨ ê¸°ì¤€",
                text: "AIì˜ ë‹µë³€ì„ ë‚´ íŒë‹¨ì˜ ê¸°ì¤€ìœ¼ë¡œ ì‚¼ëŠ”ë‹¤.",
                hint: "ì˜ì‚¬ê²°ì • ê³¼ì •ì„ ë– ì˜¬ë ¤ ì£¼ì„¸ìš”"
            },
            {
                id: 6,
                type: 'likert',
                title: "ê²°ê³¼ë¬¼ ì´í•´ë„",
                text: "AIê°€ ë§Œë“  ê²°ê³¼ë¬¼ì„ ì™„ì „íˆ ì´í•´í•˜ì§€ ëª»í•  ë•Œê°€ ìˆë‹¤.",
                hint: "AI ë„ì›€ìœ¼ë¡œ ì™„ì„±í•œ ê³¼ì œë¥¼ ë– ì˜¬ë ¤ ì£¼ì„¸ìš”"
            },
            {
                id: 7,
                type: 'likert',
                title: "ì‚¬ê³ ì˜ ì¶œì²˜ ì¸ì‹",
                text: "AIì˜ ì˜ê²¬ê³¼ ë‚´ ìƒê°ì´ í—·ê°ˆë¦´ ë•Œê°€ ìˆë‹¤.",
                hint: "ì†”ì§í•˜ê²Œ ì‘ë‹µí•´ ì£¼ì„¸ìš”"
            },
            {
                id: 8,
                type: 'likert',
                title: "í‘œí˜„ ìŠ¤íƒ€ì¼",
                text: "ë‚´ ê¸€ì´ë‚˜ ë§ì—ì„œ AI ëŠë‚Œì´ ë‚œë‹¤ëŠ” ì–˜ê¸°ë¥¼ ë“¤ì€ ì  ìˆë‹¤.",
                hint: "ì£¼ë³€ ë°˜ì‘ì„ ë– ì˜¬ë ¤ ì£¼ì„¸ìš”"
            },
            {
                id: 9,
                type: 'likert',
                title: "ì¸ì§€ ë…¸ë™ ë¶„ë‹´",
                text: "ìƒê°í•˜ê³  íŒë‹¨í•˜ëŠ” ì¼ì˜ ì ˆë°˜ ì´ìƒì„ AIì— ë§¡ê¸´ë‹¤.",
                hint: "ì‘ì—… ê³¼ì •ì„ ë– ì˜¬ë ¤ ì£¼ì„¸ìš”"
            },
            {
                id: 10,
                type: 'likert',
                title: "ì˜ì‚¬ê²°ì • ì£¼ì²´",
                text: "AIê°€ ë§Œë“  ê²ƒì„ í™•ì¸í•˜ê³  ìŠ¹ì¸í•˜ëŠ” ì—­í• ì„ ì£¼ë¡œ í•œë‹¤.",
                hint: "í‰ì†Œ ì‘ì—… ë°©ì‹ì„ ë– ì˜¬ë ¤ ì£¼ì„¸ìš”"
            }
        ];

        // Result Data (0-100 scale maintained)
        const results = [
            {
                level: 1,
                range: [0, 20],
                badge: "ììœ¨ì  ì‚¬ê³  ìœ ì§€",
                title: "ììœ¨ì  ì‚¬ê³ ë¥¼ ìœ ì§€í•˜ê³  ìˆì–´ìš”",
                description: "ì•„ì´ê°€ AIë¥¼ ë„êµ¬ë¡œ ì˜ í™œìš©í•˜ë©´ì„œë„ ì£¼ì²´ì ì¸ ì‚¬ê³ ë ¥ì„ ìœ ì§€í•˜ê³  ìˆìŠµë‹ˆë‹¤. AI ì‹œëŒ€ì— ê°€ì¥ ì´ìƒì ì¸ ê· í˜• ìƒíƒœì˜ˆìš”.",
                advice: [
                    "í˜„ì¬ ìŠµê´€ì„ ê¾¸ì¤€íˆ ìœ ì§€í•  ìˆ˜ ìˆë„ë¡ ê²©ë ¤í•´ì£¼ì„¸ìš”",
                    "ìƒˆë¡œìš´ AI ë„êµ¬ë¥¼ íƒìƒ‰í•´ë³¼ ê¸°íšŒë¥¼ ì£¼ì…”ë„ ì¢‹ì•„ìš”",
                    "ë‹¤ë¥¸ ì¹œêµ¬ë“¤ì—ê²Œ ê±´ê°•í•œ AI í™œìš©ë²•ì„ ê³µìœ í•˜ë„ë¡ ê¶Œí•´ë³´ì„¸ìš”"
                ]
            },
            {
                level: 2,
                range: [21, 40],
                badge: "ë³´ì¡° ë„êµ¬ë¡œ í™œìš©",
                title: "AIë¥¼ ë³´ì¡° ë„êµ¬ë¡œ ì˜ í™œìš©í•´ìš”",
                description: "AIë¥¼ íš¨ìœ¨ì ì¸ ë„ìš°ë¯¸ë¡œ ì‚¬ìš©í•˜ë©´ì„œë„ í•µì‹¬ ì‚¬ê³ ëŠ” ìŠ¤ìŠ¤ë¡œ í•˜ê³  ìˆì–´ìš”. ê±´ê°•í•œ í™œìš© íŒ¨í„´ì…ë‹ˆë‹¤.",
                advice: [
                    "'ì™œ ê·¸ë ‡ê²Œ ìƒê°í•´?'ë¼ê³  ë¬¼ì–´ë³´ë©° ì‚¬ê³  ê³¼ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”",
                    "AI ì—†ì´ í•´ë³´ëŠ” ì‹œê°„ì„ ê°€ë” ë§Œë“¤ì–´ì£¼ì„¸ìš”",
                    "AIì˜ ë‹µë³€ì´ í‹€ë¦´ ìˆ˜ë„ ìˆë‹¤ëŠ” ì ì„ í•¨ê»˜ ì´ì•¼ê¸°í•´ë³´ì„¸ìš”"
                ]
            },
            {
                level: 3,
                range: [41, 60],
                badge: "ì˜ì¡´ ë‹¨ê³„ ì§„ì…",
                title: "AI ì˜ì¡´ì´ ì¡°ê¸ˆì”© ëŠ˜ê³  ìˆì–´ìš”",
                description: "AIì— ëŒ€í•œ ì˜ì¡´ë„ê°€ ë†’ì•„ì§€ê³  ìˆëŠ” ë‹¨ê³„ì˜ˆìš”. ì§€ê¸ˆì´ ìŠµê´€ì„ ì¡°ì •í•˜ê¸° ì¢‹ì€ ì‹œê¸°ì…ë‹ˆë‹¤.",
                advice: [
                    "AI ì‚¬ìš© ì „ 5ë¶„ ë¨¼ì € ìƒê°í•´ë³´ëŠ” ê·œì¹™ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”",
                    "AI ë‹µë³€ì„ ê·¸ëŒ€ë¡œ ì“°ì§€ ì•Šê³  ìê¸° ë§ë¡œ ë°”ê¿”ë³´ê²Œ í•´ì£¼ì„¸ìš”",
                    "ì¼ì£¼ì¼ì— í•˜ë£¨ëŠ” 'AI ì—†ëŠ” ë‚ 'ë¡œ ì •í•´ë³´ì„¸ìš”"
                ]
            },
            {
                level: 4,
                range: [61, 80],
                badge: "ì‚¬ê³  ì™¸ì£¼í™” ì§„í–‰",
                title: "ìƒê°í•˜ëŠ” í˜ì´ AIì— ê¸°ëŒ€ê³  ìˆì–´ìš”",
                description: "ì‚¬ê³ ì˜ ë§ì€ ë¶€ë¶„ì„ AIì— ë§¡ê¸°ê³  ìˆì–´ìš”. ì•„ì´ì˜ ê³ ìœ í•œ ì‚¬ê³ ë ¥ ë°œë‹¬ì„ ìœ„í•´ ì¡°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.",
                advice: [
                    "AI ì‚¬ìš© ì‹œê°„ê³¼ ìš©ë„ë¥¼ í•¨ê»˜ ì •í•´ë³´ì„¸ìš”",
                    "ì˜¤ë‹µì´ë‚˜ ì‹¤ìˆ˜ë¥¼ í†µí•´ ë°°ìš°ëŠ” ê²½í—˜ì„ ëŠ˜ë ¤ì£¼ì„¸ìš”",
                    "ì±… ì½ê¸°, í† ë¡  ë“± AI ì—†ì´ ìƒê°í•˜ëŠ” í™œë™ì„ ê¶Œì¥í•´ì£¼ì„¸ìš”",
                    "ê²°ê³¼ë³´ë‹¤ ê³¼ì •ì„ ì¹­ì°¬í•˜ëŠ” í”¼ë“œë°±ì„ í•´ì£¼ì„¸ìš”"
                ]
            },
            {
                level: 5,
                range: [81, 100],
                badge: "ì£¼ì²´ì„± ì´ì „ ë‹¨ê³„",
                title: "ì‚¬ê³ ì˜ ì£¼ì²´ì„± íšŒë³µì´ í•„ìš”í•´ìš”",
                description: "AIê°€ ìƒê°ì˜ ì£¼ë„ê¶Œì„ ê°€ì ¸ê°€ê³  ìˆëŠ” ìƒíƒœì˜ˆìš”. ì•„ì´ê°€ ë‹¤ì‹œ ìŠ¤ìŠ¤ë¡œ ìƒê°í•˜ëŠ” í˜ì„ ê¸°ë¥¼ ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ì„¸ìš”.",
                advice: [
                    "AI ì‚¬ìš©ì„ ì ì‹œ ì¤„ì´ê³  ì§ì ‘ í•´ê²°í•˜ëŠ” ê²½í—˜ì„ ìŒ“ì•„ì£¼ì„¸ìš”",
                    "ì‹¤íŒ¨í•´ë„ ê´œì°®ë‹¤ëŠ” ì•ˆì „í•œ í™˜ê²½ì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”",
                    "ì•„ì´ì˜ ì˜ê²¬ì„ ìì£¼ ë¬¼ì–´ë³´ê³  ì¡´ì¤‘í•´ì£¼ì„¸ìš”",
                    "í•„ìš”ì‹œ ì „ë¬¸ ìƒë‹´ì„ ê³ ë ¤í•´ë³´ì„¸ìš”"
                ]
            }
        ];

        // State
        let currentQuestion = 0;
        let answers = new Array(10).fill(null);
        let q2Selections = []; // For multi-select Q2
        let totalScore = 0;
        let userEmail = '';
        let userAge = null;
        let userSpending = '';
        let consentGiven = false;

        // Functions
        function selectSpending(element, value) {
            document.querySelectorAll('.spending-option').forEach(opt => {
                opt.classList.remove('selected', 'error');
            });
            element.classList.add('selected');
            element.querySelector('input').checked = true;
            userSpending = value;
            document.getElementById('spendingError').classList.remove('show');
        }

        function toggleConsent() {
            const checkbox = document.getElementById('consentCheckbox');
            const input = document.getElementById('consentInput');
            const error = document.getElementById('consentError');

            consentGiven = !consentGiven;
            input.checked = consentGiven;
            checkbox.classList.toggle('checked', consentGiven);
            checkbox.classList.remove('error');
            error.classList.remove('show');
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
            window.scrollTo(0, 0);
        }

        function validateInputs() {
            let isValid = true;

            const ageInput = document.getElementById('ageInput');
            const ageError = document.getElementById('ageError');
            const ageValue = parseInt(ageInput.value, 10);

            if (isNaN(ageValue) || ageValue < 1 || ageValue > 25) {
                ageInput.classList.add('error');
                ageError.classList.add('show');
                isValid = false;
            } else {
                ageInput.classList.remove('error');
                ageError.classList.remove('show');
                userAge = ageValue;
            }

            const spendingError = document.getElementById('spendingError');
            if (!userSpending) {
                document.querySelectorAll('.spending-option').forEach(opt => opt.classList.add('error'));
                spendingError.classList.add('show');
                isValid = false;
            } else {
                spendingError.classList.remove('show');
            }

            const checkbox = document.getElementById('consentCheckbox');
            const consentError = document.getElementById('consentError');
            if (!consentGiven) {
                checkbox.classList.add('error');
                consentError.classList.add('show');
                isValid = false;
            }

            return isValid;
        }

        function startTest() {
            if (!validateInputs()) {
                const firstError = document.querySelector('.error');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
                return;
            }

            userEmail = document.getElementById('emailInput').value.trim();
            currentQuestion = 0;
            answers = new Array(10).fill(null);
            q2Selections = [];
            totalScore = 0;

            showScreen('question');
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentQuestion];

            document.getElementById('currentQ').textContent = currentQuestion + 1;
            document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / 10) * 100}%`;
            document.getElementById('questionNumber').textContent = `Q${currentQuestion + 1}`;
            document.getElementById('questionText').textContent = q.text;
            document.getElementById('questionHint').textContent = q.hint;

            const container = document.getElementById('optionsContainer');

            if (q.type === 'likert') {
                container.innerHTML = renderLikertScale(currentQuestion);
            } else if (q.type === 'multi') {
                container.innerHTML = renderMultiSelect(q.options);
            }
        }

        function renderLikertScale(qIndex) {
            const currentAnswer = answers[qIndex];

            return `
                <div class="likert-container">
                    <div class="likert-options">
                        ${likertLabels.map(opt => `
                            <label class="likert-option ${currentAnswer === opt.value ? 'selected' : ''}"
                                   onclick="selectLikert(${qIndex}, ${opt.value}, ${opt.score})">
                                <input type="radio" name="q${qIndex}" value="${opt.value}">
                                <div class="likert-circle">${opt.value}</div>
                                <span class="likert-label">${opt.label.replace('\n', '<br>')}</span>
                            </label>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderMultiSelect(options) {
            return `
                <div class="multi-select-container">
                    <div class="multi-select-header">
                        <span>AI í™œìš© ìš©ë„</span>
                        <span class="selection-count">ì„ íƒ: <strong id="selectionCount">${q2Selections.length}</strong>ê°œ (${q2Selections.length}ì )</span>
                    </div>
                    ${options.map((opt, idx) => `
                        <label class="multi-option ${q2Selections.includes(idx) ? 'selected' : ''}"
                               onclick="toggleMultiOption(${idx})">
                            <input type="checkbox" ${q2Selections.includes(idx) ? 'checked' : ''}>
                            <span class="multi-checkbox">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                                    <polyline points="20 6 9 17 4 12"/>
                                </svg>
                            </span>
                            <span class="multi-option-text">${opt}</span>
                        </label>
                    `).join('')}
                    <button class="btn-primary multi-nav-btn" onclick="submitMultiSelect()">
                        ë‹¤ìŒ ë¬¸í•­ìœ¼ë¡œ
                    </button>
                </div>
            `;
        }

        function selectLikert(qIndex, value, score) {
            answers[qIndex] = value;

            document.querySelectorAll('.likert-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');

            // Auto advance after delay
            setTimeout(() => {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    renderQuestion();
                } else {
                    calculateAndShowResult();
                }
            }, 400);
        }

        function toggleMultiOption(idx) {
            const index = q2Selections.indexOf(idx);
            if (index > -1) {
                q2Selections.splice(index, 1);
            } else {
                q2Selections.push(idx);
            }

            // Update UI
            const options = document.querySelectorAll('.multi-option');
            options[idx].classList.toggle('selected');
            document.getElementById('selectionCount').textContent = q2Selections.length;

            // Update count display
            const countSpan = document.querySelector('.selection-count');
            countSpan.innerHTML = `ì„ íƒ: <strong>${q2Selections.length}</strong>ê°œ (${q2Selections.length}ì )`;
        }

        function submitMultiSelect() {
            answers[1] = q2Selections.length; // Store Q2 score (1 point per selection)

            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                renderQuestion();
            } else {
                calculateAndShowResult();
            }
        }

        function calculateAndShowResult() {
            // Calculate total score
            totalScore = 0;

            for (let i = 0; i < questions.length; i++) {
                if (questions[i].type === 'likert') {
                    const likertValue = answers[i];
                    if (likertValue !== null) {
                        const likertScore = likertLabels.find(l => l.value === likertValue).score;
                        totalScore += likertScore;
                    }
                } else if (questions[i].type === 'multi') {
                    // Q2: 1 point per selection, max 10
                    totalScore += Math.min(answers[i] || 0, 10);
                }
            }

            totalScore = Math.round(totalScore);
            showResult();
        }

        function showResult() {
            showScreen('result');

            const result = results.find(r => totalScore >= r.range[0] && totalScore <= r.range[1]) || results[4];

            document.getElementById('resultBadge').textContent = result.badge;
            document.getElementById('resultBadge').className = `result-badge level-${result.level}`;
            document.getElementById('resultTitle').textContent = result.title;
            document.getElementById('resultDescription').textContent = result.description;
            document.getElementById('scoreValue').textContent = totalScore;

            const circle = document.getElementById('scoreCircle');
            circle.className = `progress level-${result.level}`;
            const circumference = 2 * Math.PI * 60;
            const offset = circumference - (totalScore / 100) * circumference;
            setTimeout(() => {
                circle.style.strokeDashoffset = offset;
            }, 100);

            document.getElementById('adviceList').innerHTML = result.advice
                .map(a => `<li>${a}</li>`).join('');

            submitToGoogleSheets();
        }

        async function submitToGoogleSheets() {
            const statusEl = document.getElementById('submitStatus');

            if (GOOGLE_SCRIPT_URL.includes('YOUR_GOOGLE_APPS_SCRIPT_URL_HERE')) {
                console.log('Google Apps Script URL not configured.');
                return;
            }

            statusEl.className = 'submit-status loading';
            statusEl.innerHTML = '<span class="spinner"></span>ê²°ê³¼ë¥¼ ì €ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤...';

            // Prepare answers array for sheets
            const answersForSheet = [];
            for (let i = 0; i < questions.length; i++) {
                if (questions[i].type === 'likert') {
                    answersForSheet.push(answers[i] || 0);
                } else if (questions[i].type === 'multi') {
                    // Store selected options as comma-separated string
                    const selectedLabels = q2Selections.map(idx => questions[1].options[idx]).join(', ');
                    answersForSheet.push(selectedLabels || 'ì—†ìŒ');
                }
            }

            const payload = {
                consent: consentGiven,
                email: userEmail,
                age: userAge,
                monthlySpending: userSpending,
                answers: answersForSheet,
                q2Count: q2Selections.length,
                totalScore: totalScore
            };

            try {
                await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });

                statusEl.className = 'submit-status success';
                statusEl.textContent = 'ê²°ê³¼ê°€ ì•ˆì „í•˜ê²Œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.';

            } catch (error) {
                console.error('Submission error:', error);
                statusEl.className = 'submit-status error';
                statusEl.textContent = 'ì €ì¥ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
            }
        }

        function restartTest() {
            userAge = null;
            userSpending = '';
            document.getElementById('ageInput').value = '';
            document.getElementById('ageInput').classList.remove('error');
            document.getElementById('ageError').classList.remove('show');
            document.querySelectorAll('.spending-option').forEach(opt => {
                opt.classList.remove('selected', 'error');
                opt.querySelector('input').checked = false;
            });
            document.getElementById('spendingError').classList.remove('show');

            consentGiven = false;
            document.getElementById('consentInput').checked = false;
            document.getElementById('consentCheckbox').classList.remove('checked', 'error');
            document.getElementById('consentError').classList.remove('show');
            document.getElementById('emailInput').value = '';

            document.getElementById('scoreCircle').style.strokeDashoffset = 377;

            document.getElementById('submitStatus').className = 'submit-status';
            document.getElementById('submitStatus').textContent = '';

            answers = new Array(10).fill(null);
            q2Selections = [];

            showScreen('landing');
        }

        function copyResult() {
            const result = results.find(r => totalScore >= r.range[0] && totalScore <= r.range[1]) || results[4];
            const text = `ğŸ§’ ìš°ë¦¬ì•„ì´ AIí™œìš©ëŠ¥ë ¥ ì§„ë‹¨ ê²°ê³¼

ğŸ“Š ì ìˆ˜: ${totalScore}ì 
ğŸ·ï¸ ì§„ë‹¨: ${result.badge}

${result.title}

${result.description}

ğŸ‘‰ ë‚˜ë„ ê²€ì‚¬í•´ë³´ê¸°: ${window.location.href}`;

            navigator.clipboard.writeText(text).then(() => {
                showToast('ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(() => {
                showToast('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
            });
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }
    </script>
</body>
</html>
