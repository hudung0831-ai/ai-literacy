<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ìš°ë¦¬ì•„ì´ AIíƒ€ì… ì§„ë‹¨ê²€ì‚¬</title>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4A9D9A;
            --primary-dark: #3A8280;
            --primary-light: #E8F4F3;
            --accent: #FF8A7A;
            --accent-light: #FFF0EE;
            --bg: #FAFAF8;
            --card: #FFFFFF;
            --text-primary: #2D3748;
            --text-secondary: #5A6778;
            --text-muted: #8896A6;
            --border: #E8ECF0;
            --shadow: rgba(74, 157, 154, 0.08);
            --shadow-hover: rgba(74, 157, 154, 0.15);
            --error: #E53E3E;
            --green: #38A169;
            --blue: #3182CE;
            --yellow: #D69E2E;
            --red: #E53E3E;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 520px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        .screen {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Landing Screen */
        .landing {
            text-align: center;
            padding-top: 40px;
        }

        .logo-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--primary-light);
            color: var(--primary);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 24px;
        }

        .logo-badge svg {
            width: 18px;
            height: 18px;
        }

        .landing h1 {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.3;
        }

        .landing h1 span {
            color: var(--primary);
        }

        .landing .subtitle {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 32px;
            line-height: 1.7;
        }

        .info-card {
            background: var(--card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 12px var(--shadow);
            text-align: left;
        }

        .info-card h3 {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-card h3 svg {
            width: 20px;
            height: 20px;
            color: var(--primary);
        }

        .info-list {
            list-style: none;
        }

        .info-list li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 10px 0;
            font-size: 14px;
            color: var(--text-secondary);
            border-bottom: 1px solid var(--border);
        }

        .info-list li:last-child {
            border-bottom: none;
        }

        .info-list .icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 16px;
        }

        /* Demographics Section */
        .section-card {
            background: var(--card);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 12px var(--shadow);
            text-align: left;
        }

        .section-card h3 {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-card h3 svg {
            width: 20px;
            height: 20px;
            color: var(--primary);
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-group:last-child {
            margin-bottom: 0;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .form-group label .required {
            color: var(--error);
            margin-left: 4px;
        }

        .form-group label .hint {
            font-weight: 400;
            color: var(--text-muted);
            font-size: 13px;
            display: block;
            margin-top: 4px;
        }

        .age-input-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .age-input {
            width: 100px;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 16px;
            font-family: inherit;
            text-align: center;
            transition: all 0.2s ease;
            background: white;
            -moz-appearance: textfield;
        }

        .age-input::-webkit-outer-spin-button,
        .age-input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        .age-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 157, 154, 0.1);
        }

        .age-input.error {
            border-color: var(--error);
        }

        .age-suffix {
            font-size: 15px;
            color: var(--text-secondary);
        }

        /* Subject Options */
        .subject-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .subject-option {
            position: relative;
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 14px 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .subject-option:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .subject-option.selected {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .subject-option input {
            display: none;
        }

        .subject-option .subject-icon {
            font-size: 24px;
            margin-bottom: 6px;
        }

        .subject-option span {
            display: block;
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .subject-option.selected span {
            color: var(--primary-dark);
            font-weight: 600;
        }

        /* Consent Section */
        .consent-box {
            background: var(--bg);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 16px;
            max-height: 150px;
            overflow-y: auto;
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.7;
        }

        .consent-box h4 {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            margin: 12px 0 8px;
        }

        .consent-box h4:first-child {
            margin-top: 0;
        }

        .consent-box ul {
            margin-left: 16px;
            margin-bottom: 8px;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px;
            background: var(--primary-light);
            border-radius: 10px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s ease;
        }

        .checkbox-group:hover {
            border-color: var(--primary);
        }

        .checkbox-group.checked {
            border-color: var(--primary);
        }

        .checkbox-group.error {
            border-color: var(--error);
            background: #FFF5F5;
        }

        .checkbox-input {
            display: none;
        }

        .checkbox-custom {
            width: 22px;
            height: 22px;
            border: 2px solid var(--border);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            background: white;
            transition: all 0.2s ease;
        }

        .checkbox-group.checked .checkbox-custom {
            background: var(--primary);
            border-color: var(--primary);
        }

        .checkbox-custom svg {
            width: 14px;
            height: 14px;
            color: white;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .checkbox-group.checked .checkbox-custom svg {
            opacity: 1;
        }

        .checkbox-label {
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
            line-height: 1.5;
        }

        .checkbox-label .required {
            color: var(--error);
            font-weight: 600;
        }

        .error-message {
            color: var(--error);
            font-size: 13px;
            margin-top: 8px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        /* Email Input */
        .email-section {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border);
        }

        .email-section label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .email-section label span {
            font-weight: 400;
            color: var(--text-muted);
            font-size: 13px;
        }

        .email-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.2s ease;
            background: white;
        }

        .email-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(74, 157, 154, 0.1);
        }

        .email-input::placeholder {
            color: var(--text-muted);
        }

        /* Buttons */
        .btn-primary {
            width: 100%;
            padding: 18px 32px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 14px rgba(74, 157, 154, 0.3);
            font-family: inherit;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(74, 157, 154, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-primary:disabled {
            background: var(--text-muted);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            width: 100%;
            padding: 16px 24px;
            background: var(--card);
            color: var(--primary);
            border: 2px solid var(--primary);
            border-radius: 14px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .btn-secondary:hover {
            background: var(--primary-light);
        }

        .trust-badges {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--border);
        }

        .trust-badge {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .trust-badge svg {
            width: 24px;
            height: 24px;
            color: var(--primary);
            opacity: 0.7;
        }

        /* Question Screen */
        .question-screen {
            padding-top: 20px;
        }

        .progress-container {
            margin-bottom: 32px;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .progress-text {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
        }

        .progress-count {
            font-size: 13px;
            color: var(--text-muted);
        }

        .progress-bar {
            height: 8px;
            background: var(--primary-light);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, #5FB5B2 100%);
            border-radius: 4px;
            transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .category-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .category-badge.category-p { background: #E8F4F3; color: #4A9D9A; }
        .category-badge.category-u { background: #EBF4FF; color: #3182CE; }
        .category-badge.category-l { background: #FEF3C7; color: #D97706; }
        .category-badge.category-s { background: #F3E8FF; color: #7C3AED; }

        .question-card {
            background: var(--card);
            border-radius: 20px;
            padding: 28px 24px;
            box-shadow: 0 4px 20px var(--shadow);
            margin-bottom: 20px;
        }

        .question-number {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .question-text {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
            line-height: 1.5;
            margin-bottom: 24px;
        }

        /* Options */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 16px;
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .option-item:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .option-item.selected {
            border-color: var(--primary);
            background: var(--primary-light);
            box-shadow: 0 0 0 3px rgba(74, 157, 154, 0.15);
        }

        .option-item input {
            display: none;
        }

        .option-radio {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            background: white;
            transition: all 0.2s ease;
        }

        .option-item.selected .option-radio {
            border-color: var(--primary);
            background: var(--primary);
        }

        .option-radio::after {
            content: '';
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .option-item.selected .option-radio::after {
            opacity: 1;
        }

        .option-text {
            font-size: 15px;
            color: var(--text-secondary);
            font-weight: 500;
            flex: 1;
        }

        .option-item.selected .option-text {
            color: var(--primary-dark);
            font-weight: 600;
        }

        /* Likert Scale */
        .likert-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .likert-scale {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            padding: 0 8px;
        }

        .likert-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            flex: 1;
            max-width: 70px;
        }

        .likert-circle {
            width: 44px;
            height: 44px;
            border: 3px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            background: white;
            font-size: 16px;
            font-weight: 600;
            color: var(--text-muted);
        }

        .likert-option:hover .likert-circle {
            border-color: var(--primary);
            background: var(--primary-light);
            color: var(--primary);
        }

        .likert-option.selected .likert-circle {
            border-color: var(--primary);
            background: var(--primary);
            color: white;
        }

        .likert-label {
            font-size: 12px;
            color: var(--text-muted);
            text-align: center;
            line-height: 1.3;
            word-break: keep-all;
        }

        .likert-option.selected .likert-label {
            color: var(--primary-dark);
            font-weight: 600;
        }

        .likert-endpoints {
            display: flex;
            justify-content: space-between;
            font-size: 13px;
            color: var(--text-secondary);
            padding: 0 12px;
            margin-top: 4px;
        }

        /* Result Screen */
        .result-screen {
            padding-top: 30px;
            text-align: center;
        }

        .result-header {
            margin-bottom: 24px;
        }

        .result-type-icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
            background: var(--primary-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
        }

        .result-type-name {
            font-size: 32px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .result-type-subtitle {
            font-size: 16px;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .risk-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 24px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: 700;
        }

        .risk-badge.risk-green { background: #C6F6D5; color: #22543D; }
        .risk-badge.risk-blue { background: #BEE3F8; color: #2A4365; }
        .risk-badge.risk-yellow { background: #FEFCBF; color: #744210; }
        .risk-badge.risk-red { background: #FED7D7; color: #742A2A; }

        .result-card {
            background: var(--card);
            border-radius: 24px;
            padding: 28px 24px;
            box-shadow: 0 8px 32px var(--shadow);
            margin-bottom: 20px;
            text-align: left;
        }

        .result-section {
            margin-bottom: 24px;
        }

        .result-section:last-child {
            margin-bottom: 0;
        }

        .result-section h4 {
            font-size: 15px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-section h4 svg {
            width: 18px;
            height: 18px;
        }

        .result-section p {
            font-size: 15px;
            color: var(--text-secondary);
            line-height: 1.7;
        }

        .result-section ul {
            list-style: none;
        }

        .result-section li {
            position: relative;
            padding-left: 20px;
            margin-bottom: 10px;
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .result-section li:before {
            content: "â€¢";
            position: absolute;
            left: 6px;
            color: var(--primary);
            font-weight: bold;
        }

        .score-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-top: 16px;
        }

        .score-item {
            background: var(--bg);
            border-radius: 12px;
            padding: 16px 12px;
            text-align: center;
        }

        .score-item .label {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .score-item .value {
            font-size: 20px;
            font-weight: 700;
            color: var(--primary);
        }

        .result-actions {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 24px 0;
            font-size: 12px;
            color: var(--text-muted);
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--text-primary);
            color: white;
            padding: 14px 24px;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 500;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Responsive */
        @media (max-width: 400px) {
            .container {
                padding: 16px;
            }

            .landing h1 {
                font-size: 24px;
            }

            .question-text {
                font-size: 16px;
            }

            .subject-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .result-type-name {
                font-size: 26px;
            }

            .score-details {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Landing Screen -->
        <div id="landing" class="screen active landing">
            <div class="logo-badge">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                </svg>
                AI ë¦¬í„°ëŸ¬ì‹œ ì—°êµ¬ì†Œ
            </div>

            <h1>ìš°ë¦¬ ì•„ì´<br><span>AIíƒ€ì…</span> ì§„ë‹¨ê²€ì‚¬</h1>

            <p class="subtitle">
                AIì™€ í•¨ê»˜ ìë¼ëŠ” ì•„ì´,<br>
                ì–´ë–¤ ìœ í˜•ì˜ ì‚¬ìš©ìì¸ì§€ ì•Œì•„ë³´ì„¸ìš”.
            </p>

            <div class="info-card">
                <h3>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 16v-4M12 8h.01"/>
                    </svg>
                    ê²€ì‚¬ ì•ˆë‚´
                </h3>
                <ul class="info-list">
                    <li>
                        <span class="icon">ğŸ“</span>
                        <span>ì´ <strong>19ë¬¸í•­</strong>, ì•½ 5ë¶„ ì†Œìš”</span>
                    </li>
                    <li>
                        <span class="icon">ğŸ¯</span>
                        <span><strong>4ê°€ì§€ AI ì‚¬ìš©ì ìœ í˜•</strong>ê³¼ ìœ„í—˜ì§€ìˆ˜ë¥¼ ì§„ë‹¨í•©ë‹ˆë‹¤</span>
                    </li>
                    <li>
                        <span class="icon">ğŸ‘€</span>
                        <span>í‰ì†Œ ì•„ì´ì˜ ëª¨ìŠµì„ ë– ì˜¬ë¦¬ë©° ì‘ë‹µí•´ì£¼ì„¸ìš”</span>
                    </li>
                    <li>
                        <span class="icon">ğŸ’¡</span>
                        <span>ì •ë‹µì´ ì—†ì–´ìš”. <strong>ì†”ì§í•œ ì‘ë‹µ</strong>ì´ ì •í™•í•œ ê²°ê³¼ë¥¼ ë§Œë“­ë‹ˆë‹¤</span>
                    </li>
                </ul>
            </div>

            <!-- Demographics Section -->
            <div class="section-card">
                <h3>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                    ìë…€ ì •ë³´
                </h3>

                <div class="form-group">
                    <label for="ageInput">
                        ìë…€ ë‚˜ì´<span class="required">*</span>
                        <span class="hint">ë§Œ ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</span>
                    </label>
                    <div class="age-input-wrapper">
                        <input type="number" class="age-input" id="ageInput" min="1" max="25" placeholder="ì˜ˆ: 12">
                        <span class="age-suffix">ì„¸</span>
                    </div>
                    <p class="error-message" id="ageError">ë‚˜ì´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” (1-25ì„¸)</p>
                </div>
            </div>

            <!-- Private Education Section -->
            <div class="section-card">
                <h3>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/>
                        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>
                    </svg>
                    ì‚¬êµìœ¡ í˜„í™©
                </h3>

                <div class="form-group">
                    <label>
                        í˜„ì¬ ë°›ê³  ìˆëŠ” ì‚¬êµìœ¡<span class="required">*</span>
                        <span class="hint">í•´ë‹¹í•˜ëŠ” ê³¼ëª©ì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”</span>
                    </label>
                    <div class="subject-grid" id="subjectGrid">
                        <label class="subject-option" data-subject="êµ­ì–´">
                            <input type="checkbox" name="subject" value="êµ­ì–´">
                            <span class="subject-icon">ğŸ“–</span>
                            <span>êµ­ì–´</span>
                        </label>
                        <label class="subject-option" data-subject="ìˆ˜í•™">
                            <input type="checkbox" name="subject" value="ìˆ˜í•™">
                            <span class="subject-icon">ğŸ“</span>
                            <span>ìˆ˜í•™</span>
                        </label>
                        <label class="subject-option" data-subject="ì˜ì–´">
                            <input type="checkbox" name="subject" value="ì˜ì–´">
                            <span class="subject-icon">ğŸ”¤</span>
                            <span>ì˜ì–´</span>
                        </label>
                        <label class="subject-option" data-subject="ê³¼í•™">
                            <input type="checkbox" name="subject" value="ê³¼í•™">
                            <span class="subject-icon">ğŸ”¬</span>
                            <span>ê³¼í•™</span>
                        </label>
                        <label class="subject-option" data-subject="ì‚¬íšŒ">
                            <input type="checkbox" name="subject" value="ì‚¬íšŒ">
                            <span class="subject-icon">ğŸŒ</span>
                            <span>ì‚¬íšŒ</span>
                        </label>
                        <label class="subject-option" data-subject="ì½”ë”©">
                            <input type="checkbox" name="subject" value="ì½”ë”©">
                            <span class="subject-icon">ğŸ’»</span>
                            <span>ì½”ë”©</span>
                        </label>
                        <label class="subject-option" data-subject="ì˜ˆì²´ëŠ¥">
                            <input type="checkbox" name="subject" value="ì˜ˆì²´ëŠ¥">
                            <span class="subject-icon">ğŸ¨</span>
                            <span>ì˜ˆì²´ëŠ¥</span>
                        </label>
                        <label class="subject-option" data-subject="ë…¼ìˆ ">
                            <input type="checkbox" name="subject" value="ë…¼ìˆ ">
                            <span class="subject-icon">âœï¸</span>
                            <span>ë…¼ìˆ </span>
                        </label>
                        <label class="subject-option" data-subject="ì—†ìŒ">
                            <input type="checkbox" name="subject" value="ì—†ìŒ">
                            <span class="subject-icon">âŒ</span>
                            <span>ì—†ìŒ</span>
                        </label>
                    </div>
                    <p class="error-message" id="subjectError">í•˜ë‚˜ ì´ìƒ ì„ íƒí•´ì£¼ì„¸ìš”</p>
                </div>
            </div>

            <!-- Consent Section -->
            <div class="section-card">
                <h3>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜
                </h3>

                <div class="consent-box">
                    <h4>1. ìˆ˜ì§‘ í•­ëª©</h4>
                    <ul>
                        <li>í•„ìˆ˜: ìë…€ ë‚˜ì´, ì‚¬êµìœ¡ í˜„í™©, ê²€ì‚¬ ì‘ë‹µ, ê²€ì‚¬ ì¼ì‹œ</li>
                        <li>ì„ íƒ: ì´ë©”ì¼ ì£¼ì†Œ</li>
                    </ul>

                    <h4>2. ìˆ˜ì§‘ ëª©ì </h4>
                    <ul>
                        <li>AI ë¦¬í„°ëŸ¬ì‹œ ìœ í˜• ì§„ë‹¨ ë° ê²°ê³¼ ì œê³µ</li>
                        <li>ì—°ë ¹ëŒ€ë³„ í†µê³„ ë¶„ì„ ë° ì—°êµ¬</li>
                        <li>ì´ë©”ì¼ ì œê³µ ì‹œ: ë§ì¶¤ êµìœ¡ ì •ë³´ ë°œì†¡</li>
                    </ul>

                    <h4>3. ë³´ìœ  ê¸°ê°„</h4>
                    <p>ìˆ˜ì§‘ì¼ë¡œë¶€í„° 1ë…„ê°„ ë³´ìœ  í›„ íŒŒê¸°</p>

                    <h4>4. ë™ì˜ ê±°ë¶€ê¶Œ ë° ë¶ˆì´ìµ</h4>
                    <p>ë™ì˜ë¥¼ ê±°ë¶€í•  ê¶Œë¦¬ê°€ ìˆìœ¼ë©°, í•„ìˆ˜ ë™ì˜ ê±°ë¶€ ì‹œ ê²€ì‚¬ ì´ìš©ì´ ì œí•œë©ë‹ˆë‹¤.</p>
                </div>

                <div class="checkbox-group" id="consentCheckbox" onclick="toggleConsent()">
                    <input type="checkbox" class="checkbox-input" id="consentInput">
                    <span class="checkbox-custom">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <polyline points="20 6 9 17 4 12"/>
                        </svg>
                    </span>
                    <span class="checkbox-label">
                        <span class="required">[í•„ìˆ˜]</span> ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.
                    </span>
                </div>
                <p class="error-message" id="consentError">ê²€ì‚¬ë¥¼ ì‹œì‘í•˜ë ¤ë©´ ê°œì¸ì •ë³´ ìˆ˜ì§‘ì— ë™ì˜í•´ì£¼ì„¸ìš”.</p>

                <div class="email-section">
                    <label for="emailInput">
                        ì´ë©”ì¼ <span>(ì„ íƒ - ê²°ê³¼ ë° ë§ì¶¤ êµìœ¡ ì •ë³´ ìˆ˜ì‹ )</span>
                    </label>
                    <input type="email" class="email-input" id="emailInput" placeholder="example@email.com">
                </div>
            </div>

            <button class="btn-primary" onclick="startTest()">
                ê²€ì‚¬ ì‹œì‘í•˜ê¸°
            </button>

            <div class="trust-badges">
                <div class="trust-badge">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                    </svg>
                    <span>SSL ì•”í˜¸í™”</span>
                </div>
                <div class="trust-badge">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                    <span>ì•ˆì „í•œ ì €ì¥</span>
                </div>
                <div class="trust-badge">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                        <polyline points="22 4 12 14.01 9 11.01"/>
                    </svg>
                    <span>ì „ë¬¸ê°€ ì„¤ê³„</span>
                </div>
            </div>
        </div>

        <!-- Question Screen -->
        <div id="question" class="screen question-screen">
            <div class="progress-container">
                <div class="progress-header">
                    <span class="progress-text" id="categoryText">ì„±ê²© íŠ¹ì„±</span>
                    <span class="progress-count"><span id="currentQ">1</span> / 19</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 5%"></div>
                </div>
            </div>

            <div class="question-card">
                <span class="category-badge category-p" id="categoryBadge">P ì„±ê²©</span>
                <span class="question-number" id="questionNumber">Q1</span>
                <h2 class="question-text" id="questionText"></h2>
                <div class="options-container" id="optionsContainer">
                </div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result" class="screen result-screen">
            <div class="result-header">
                <div class="result-type-icon" id="resultIcon">âœˆï¸</div>
                <div class="result-type-name" id="resultTypeName">ì¡°ì¢…ì‚¬í˜•</div>
                <div class="result-type-subtitle" id="resultTypeSubtitle">íƒìƒ‰ + ì •ë°€</div>
                <div class="risk-badge risk-green" id="riskBadge">
                    <span id="riskIcon">ğŸŸ¢</span>
                    <span id="riskText">ê³ ììœ¨êµ° (HRS 87ì )</span>
                </div>
            </div>

            <div class="result-card">
                <div class="result-section">
                    <h4>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 16v-4M12 8h.01"/>
                        </svg>
                        ìœ í˜• ì„¤ëª…
                    </h4>
                    <p id="resultDescription"></p>
                </div>

                <div class="result-section">
                    <h4>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                            <polyline points="22 4 12 14.01 9 11.01"/>
                        </svg>
                        ê°•ì 
                    </h4>
                    <ul id="strengthsList"></ul>
                </div>

                <div class="result-section">
                    <h4>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="12"/>
                            <line x1="12" y1="16" x2="12.01" y2="16"/>
                        </svg>
                        ì£¼ì˜ì 
                    </h4>
                    <ul id="weaknessesList"></ul>
                </div>

                <div class="result-section">
                    <h4>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                        </svg>
                        ë¶€ëª¨ë‹˜ ê°€ì´ë“œ
                    </h4>
                    <ul id="adviceList"></ul>
                </div>

                <div class="result-section">
                    <h4>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="18" y1="20" x2="18" y2="10"/>
                            <line x1="12" y1="20" x2="12" y2="4"/>
                            <line x1="6" y1="20" x2="6" y2="14"/>
                        </svg>
                        ì„¸ë¶€ ì ìˆ˜
                    </h4>
                    <div class="score-details">
                        <div class="score-item">
                            <div class="label">ì„±ê²© (P)</div>
                            <div class="value" id="pScore">0</div>
                        </div>
                        <div class="score-item">
                            <div class="label">ì‚¬ìš© (U)</div>
                            <div class="value" id="uScore">0</div>
                        </div>
                        <div class="score-item">
                            <div class="label">í•™ìŠµ (L)</div>
                            <div class="value" id="lScore">0</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="result-actions">
                <button class="btn-primary" onclick="restartTest()">
                    ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°
                </button>
                <button class="btn-secondary" onclick="copyResult()">
                    ê²°ê³¼ ë³µì‚¬í•˜ê¸°
                </button>
            </div>
        </div>

        <div class="footer">
            ê²€ì‚¬ ê²°ê³¼ëŠ” ì°¸ê³ ìš©ì´ë©°, ì „ë¬¸ ìƒë‹´ì„ ëŒ€ì²´í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.<br>
            <span style="color: var(--text-muted);">Â© 2024 AI ë¦¬í„°ëŸ¬ì‹œ ì—°êµ¬ì†Œ</span>
        </div>
    </div>

    <div class="toast" id="toast">ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!</div>

    <script>
        // ============================================
        // ì„¤ì •
        // ============================================
        const GOOGLE_SCRIPT_URL = 'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE';

        // ============================================
        // ë¬¸í•­ ë°ì´í„° (19ë¬¸í•­) - ë¦¬ì»¤íŠ¸ 5ì  ì²™ë„
        // ============================================
        const likertLabels = ['ì „í˜€ ê·¸ë ‡ì§€ ì•Šë‹¤', 'ê·¸ë ‡ì§€ ì•Šë‹¤', 'ë³´í†µì´ë‹¤', 'ê·¸ë ‡ë‹¤', 'ë§¤ìš° ê·¸ë ‡ë‹¤'];

        const questions = [
            // P (ì„±ê²© íŠ¹ì„±) - 5ë¬¸í•­
            { id: 'P1', category: 'P', categoryName: 'ì„±ê²© íŠ¹ì„±', text: 'ìë…€ëŠ” ì–´ë¥¸ì´ë‚˜ ê¶Œìœ„ìê°€ ì•Œë ¤ì£¼ëŠ” ì •ë³´ë„ ì˜ì‹¬í•´ë³´ëŠ” í¸ì´ë‹¤', type: 'likert' },
            { id: 'P2', category: 'P', categoryName: 'ì„±ê²© íŠ¹ì„±', text: 'ìë…€ëŠ” ì •ë‹µì„ ëª¨ë¥´ëŠ” ìƒí™©ì„ ë¶ˆì•ˆí•´í•˜ì§€ ì•Šê³  ë°›ì•„ë“¤ì¸ë‹¤', type: 'likert' },
            { id: 'P3', category: 'P', categoryName: 'ì„±ê²© íŠ¹ì„±', text: 'ìë…€ëŠ” ì¹œêµ¬ë“¤ê³¼ ì˜ê²¬ì´ ë‹¬ë¼ë„ ìê¸° ìƒê°ì„ í‘œí˜„í•œë‹¤', type: 'likert' },
            { id: 'P4', category: 'P', categoryName: 'ì„±ê²© íŠ¹ì„±', text: 'ìë…€ëŠ” ì˜ëª»ëœ ì •ë³´ë¥¼ ë¯¿ì—ˆë˜ ê²½í—˜ì´ ìˆìœ¼ë©´ ì›ì¸ì„ íŒŒì•…í•˜ë ¤ í•œë‹¤', type: 'likert' },
            { id: 'P5', category: 'P', categoryName: 'ì„±ê²© íŠ¹ì„±', text: 'ìë…€ëŠ” ìƒˆë¡œìš´ ê²ƒì„ íŒë‹¨í•  ë•Œ ë‹¤ë¥¸ ì‚¬ëŒ ì˜ê²¬ê³¼ ë³„ê°œë¡œ ë…ìì ìœ¼ë¡œ ê²°ì •í•œë‹¤', type: 'likert' },
            // U (AI ì‚¬ìš© í–‰ë™) - 7ë¬¸í•­
            { id: 'U1', category: 'U', categoryName: 'AI ì‚¬ìš© í–‰ë™', text: 'ìë…€ëŠ” AIê°€ ì¤€ ë‹µë³€ì„ ë‹¤ë¥¸ ì¶œì²˜ì—ì„œ í™•ì¸í•´ë³¸ë‹¤', type: 'likert' },
            { id: 'U2', category: 'U', categoryName: 'AI ì‚¬ìš© í–‰ë™', text: 'ìë…€ëŠ” AI ì—†ì´ë„ ê³¼ì œë¥¼ ë¬´ë¦¬ ì—†ì´ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤', type: 'likert' },
            { id: 'U3', category: 'U', categoryName: 'AI ì‚¬ìš© í–‰ë™', text: 'ìë…€ëŠ” AIê°€ í‹€ë¦° ì •ë³´ë¥¼ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œê³  ì£¼ì˜í•œë‹¤', type: 'likert' },
            { id: 'U4', category: 'U', categoryName: 'AI ì‚¬ìš© í–‰ë™', text: 'ìë…€ëŠ” AI ë‹µë³€ì„ ê·¸ëŒ€ë¡œ ì“°ì§€ ì•Šê³  ìê¸° ë§ë¡œ ë°”ê¾¸ê±°ë‚˜ ìˆ˜ì •í•œë‹¤', type: 'likert' },
            { id: 'U5', category: 'U', categoryName: 'AI ì‚¬ìš© í–‰ë™', text: 'ìë…€ëŠ” AI ë‹µë³€ê³¼ ìê¸° ìƒê°ì´ ë‹¤ë¥´ë©´ ìê¸° íŒë‹¨ì„ ìœ ì§€í•œë‹¤', type: 'likert' },
            { id: 'U6', category: 'U', categoryName: 'AI ì‚¬ìš© í–‰ë™', text: 'ìë…€ëŠ” ëª¨ë“  ê³¼ì œê°€ ì•„ë‹ˆë¼ íŠ¹ì • ìƒí™©ì—ì„œë§Œ ì„ íƒì ìœ¼ë¡œ AIë¥¼ ì‚¬ìš©í•œë‹¤', type: 'likert' },
            { id: 'U7', category: 'U', categoryName: 'AI ì‚¬ìš© í–‰ë™', text: 'ìë…€ëŠ” AIê°€ í‹€ë¦° ì •ë³´ë¥¼ ì¤€ ê²½í—˜ ì´í›„ ê²€ì¦í•˜ëŠ” ìŠµê´€ì´ ìƒê²¼ë‹¤', type: 'likert' },
            // L (í•™ìŠµ ìŠ¤íƒ€ì¼) - 5ë¬¸í•­
            { id: 'L1', category: 'L', categoryName: 'í•™ìŠµ ìŠ¤íƒ€ì¼', text: 'ìë…€ëŠ” ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš¸ ë•Œ ì—¬ëŸ¬ ì¶œì²˜ë¥¼ ë¹„êµí•œë‹¤', type: 'likert' },
            { id: 'L2', category: 'L', categoryName: 'í•™ìŠµ ìŠ¤íƒ€ì¼', text: 'ìë…€ëŠ” ë‹¨ìˆœ ì•”ê¸°ë³´ë‹¤ ì›ë¦¬ì™€ ê°œë… ì´í•´ë¥¼ ì¤‘ì‹œí•œë‹¤', type: 'likert' },
            { id: 'L3', category: 'L', categoryName: 'í•™ìŠµ ìŠ¤íƒ€ì¼', text: 'ìë…€ëŠ” ì½ê±°ë‚˜ ë“£ëŠ” ì •ë³´ì—ì„œ ì˜¤ë¥˜ë‚˜ ëª¨ìˆœì„ ì˜ ê°ì§€í•œë‹¤', type: 'likert' },
            { id: 'L4', category: 'L', categoryName: 'í•™ìŠµ ìŠ¤íƒ€ì¼', text: 'ìë…€ëŠ” í•™ìŠµí•  ë•Œ ìŠ¤ìŠ¤ë¡œ ê¶ê¸ˆí•œ ì ì„ ì§ˆë¬¸ìœ¼ë¡œ ë§Œë“ ë‹¤', type: 'likert' },
            { id: 'L5', category: 'L', categoryName: 'í•™ìŠµ ìŠ¤íƒ€ì¼', text: 'ìë…€ëŠ” ìƒˆ ì •ë³´ê°€ ê¸°ì¡´ ì§€ì‹ê³¼ ì¶©ëŒí•˜ë©´ ì–´ëŠ ìª½ì´ ë§ëŠ”ì§€ ì¡°ì‚¬í•œë‹¤', type: 'likert' },
            // S (ì„±ê²© ì¶•) - 2ë¬¸í•­
            { id: 'S1', category: 'S', categoryName: 'ì„±ê²© ìœ í˜•', text: 'ìë…€ëŠ” ë¹¨ë¦¬ ëë‚´ëŠ” ê²ƒë³´ë‹¤ ê¼¼ê¼¼í•˜ê²Œ í™•ì¸í•˜ëŠ” ê²ƒì„ ì¤‘ì‹œí•œë‹¤', type: 'likert' },
            { id: 'S2', category: 'S', categoryName: 'ì„±ê²© ìœ í˜•', text: 'ìë…€ëŠ” ìµìˆ™í•œ ë°©ë²•ë³´ë‹¤ ìƒˆë¡œìš´ ë°©ë²•ì„ íƒìƒ‰í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤', type: 'likert' }
        ];

        // ============================================
        // ê²°ê³¼ í”„ë¡œíŒŒì¼ ë°ì´í„°
        // ============================================
        const typeProfiles = {
            pilot: {
                name: 'ì¡°ì¢…ì‚¬í˜•',
                subtitle: 'íƒìƒ‰ + ì •ë°€',
                icon: 'âœˆï¸',
                description: 'ë‹¤ê°ë„ë¡œ íƒìƒ‰í•˜ê³ , ë°œê²¬í•œ ê²ƒì„ ì •ë°€í•˜ê²Œ ê²€ì¦í•©ë‹ˆë‹¤. AIë¥¼ ì™„ì „íˆ í†µì œí•˜ë©° ì‚¬ìš©í•˜ëŠ” ìµœê³  ìˆ˜ì¤€ì˜ AI ë¦¬í„°ëŸ¬ì‹œë¥¼ ë³´ìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤.',
                strengths: [
                    'ì—¬ëŸ¬ ì¶œì²˜ë¥¼ ë¹„êµí•˜ê³  êµì°¨ ê²€ì¦í•˜ëŠ” ìŠµê´€',
                    'AI ì¶œë ¥ì˜ ì˜¤ë¥˜ë¥¼ ìŠ¤ìŠ¤ë¡œ íƒì§€í•˜ëŠ” ëŠ¥ë ¥',
                    'ìì‹ ë§Œì˜ íŒë‹¨ ê¸°ì¤€ì„ ìœ ì§€í•˜ëŠ” ë…ë¦½ì„±'
                ],
                weaknesses: [
                    'ê³¼ì‰ ê²€ì¦ìœ¼ë¡œ íš¨ìœ¨ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŒ',
                    'ì™„ë²½ì£¼ì˜ ì„±í–¥ìœ¼ë¡œ ê²°ì •ì´ ëŠ¦ì–´ì§ˆ ìˆ˜ ìˆìŒ'
                ],
                advice: [
                    'í˜„ì¬ ìŠµê´€ì„ ìœ ì§€í•˜ë„ë¡ ê²©ë ¤í•´ì£¼ì„¸ìš”',
                    'ë‹¤ë¥¸ ì¹œêµ¬ë“¤ì—ê²Œ AI í™œìš©ë²•ì„ ê³µìœ í•˜ë„ë¡ ê¶Œí•´ë³´ì„¸ìš”',
                    'ìƒˆë¡œìš´ AI ë„êµ¬ë¥¼ íƒìƒ‰í•´ë³¼ ê¸°íšŒë¥¼ ì£¼ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤'
                ]
            },
            engineer: {
                name: 'ê¸°ê´€ì‚¬í˜•',
                subtitle: 'ê³ ì • + ì •ë°€',
                icon: 'ğŸš‚',
                description: 'ì •í•´ì§„ ê²½ë¡œë¥¼ ì •ë°€í•˜ê²Œ ë”°ë¦…ë‹ˆë‹¤. ì²´ê³„ì ì´ê³  ê¼¼ê¼¼í•˜ì§€ë§Œ, ìƒˆë¡œìš´ ì ‘ê·¼ë²•ì„ íƒìƒ‰í•˜ëŠ” ê²ƒì€ ëœ í•©ë‹ˆë‹¤. ì•ˆì •ì ì¸ AI ì‚¬ìš© íŒ¨í„´ì„ ë³´ì…ë‹ˆë‹¤.',
                strengths: [
                    'ì²´ê³„ì ì´ê³  ì¼ê´€ëœ ê²€ì¦ ìŠµê´€',
                    'ì •í•´ì§„ ì ˆì°¨ë¥¼ ê¼¼ê¼¼íˆ ë”°ë¥´ëŠ” ì„±ì‹¤í•¨',
                    'AI ì¶œë ¥ì„ ì£¼ì˜ ê¹Šê²Œ í™•ì¸í•˜ëŠ” ìŠµê´€'
                ],
                weaknesses: [
                    'ìƒˆë¡œìš´ ì •ë³´ì›ì´ë‚˜ ë°©ë²•ì„ íƒìƒ‰í•˜ì§€ ì•ŠìŒ',
                    'ìµìˆ™í•œ ê²ƒì—ë§Œ ì˜ì¡´í•  ìˆ˜ ìˆìŒ',
                    'ë³€í™”í•˜ëŠ” AI í™˜ê²½ì— ì ì‘ì´ ëŠë¦´ ìˆ˜ ìˆìŒ'
                ],
                advice: [
                    'ê°€ë” ìƒˆë¡œìš´ ì¶œì²˜ë‚˜ ë°©ë²•ì„ ì‹œë„í•´ë³´ë„ë¡ ê¶Œí•´ì£¼ì„¸ìš”',
                    'ë‹¤ì–‘í•œ AI ë„êµ¬ë¥¼ ë¹„êµí•´ë³´ëŠ” ê¸°íšŒë¥¼ ì£¼ì„¸ìš”',
                    '"ë‹¤ë¥¸ ë°©ë²•ì€ ì—†ì„ê¹Œ?"ë¼ê³  ë¬¼ì–´ë³´ëŠ” ìŠµê´€ì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”'
                ]
            },
            surfer: {
                name: 'ì„œí¼í˜•',
                subtitle: 'íƒìƒ‰ + ì‹ ì†',
                icon: 'ğŸ„',
                description: 'ì—¬ê¸°ì €ê¸° íƒìƒ‰í•˜ì§€ë§Œ ê¹Šì´ í™•ì¸í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í˜¸ê¸°ì‹¬ì´ ë§ê³  ë¹ ë¥´ê²Œ ì›€ì§ì´ì§€ë§Œ, ì •ë³´ì˜ ì •í™•ì„±ì„ ê²€ì¦í•˜ëŠ” ìŠµê´€ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.',
                strengths: [
                    'ë‹¤ì–‘í•œ ì •ë³´ì›ì„ íƒìƒ‰í•˜ëŠ” í˜¸ê¸°ì‹¬',
                    'ë¹ ë¥¸ ì •ë³´ ìŠµë“ ëŠ¥ë ¥',
                    'ìƒˆë¡œìš´ ê²ƒì— ëŒ€í•œ ê°œë°©ì  íƒœë„'
                ],
                weaknesses: [
                    'ì •ë³´ ê²€ì¦ ì—†ì´ ë„˜ì–´ê°€ëŠ” ìŠµê´€',
                    'ì˜ëª»ëœ ì •ë³´ë¥¼ ì¶•ì í•  ìœ„í—˜',
                    'ê¹Šì´ ìˆëŠ” ì´í•´ë³´ë‹¤ í‘œë©´ì  ì§€ì‹ì— ë¨¸ë¬´ë¥¼ ìˆ˜ ìˆìŒ'
                ],
                advice: [
                    'AI ë‹µë³€ì„ ë°›ìœ¼ë©´ "ì´ê²Œ ë§ëŠ”ì§€ ì–´ë–»ê²Œ í™•ì¸í• ê¹Œ?" ë¬¼ì–´ë³´ì„¸ìš”',
                    'í•˜ë‚˜ì˜ ì£¼ì œë¥¼ ê¹Šì´ íŒŒê³ ë“œëŠ” í”„ë¡œì íŠ¸ë¥¼ í•´ë³´ê²Œ í•˜ì„¸ìš”',
                    'ì†ë„ë³´ë‹¤ ì •í™•ì„±ì´ ì¤‘ìš”í•œ ê³¼ì œë¥¼ ê²½í—˜í•˜ê²Œ í•´ì£¼ì„¸ìš”'
                ]
            },
            passenger: {
                name: 'íƒ‘ìŠ¹ê°í˜•',
                subtitle: 'ê³ ì • + ì‹ ì†',
                icon: 'ğŸšŒ',
                description: 'ëª©ì ì§€ë§Œ ì…ë ¥í•˜ê³  í•¸ë“¤ì—ì„œ ì†ì„ ë—ë‹ˆë‹¤. AIì— ì‚¬ê³ ë¥¼ ìœ„ì„í•˜ê³  ì¶œë ¥ì„ ê·¸ëŒ€ë¡œ ìˆ˜ìš©í•©ë‹ˆë‹¤. í™˜ê°ì— ê°€ì¥ ì·¨ì•½í•œ ìœ í˜•ì…ë‹ˆë‹¤.',
                strengths: [
                    'AI ë„êµ¬ë¥¼ ê±°ë¶€ê° ì—†ì´ ì‚¬ìš©',
                    'ìƒˆë¡œìš´ ê¸°ìˆ ì— ëŒ€í•œ ì ì‘ë ¥'
                ],
                weaknesses: [
                    'AI ì¶œë ¥ì„ ë¬´ë¹„íŒì ìœ¼ë¡œ ìˆ˜ìš©',
                    'ìì‹ ì˜ íŒë‹¨ë ¥ ë°œë‹¬ì´ ì €í•´ë  ìœ„í—˜',
                    'ì˜ëª»ëœ ì •ë³´ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•  ê°€ëŠ¥ì„± ë†’ìŒ',
                    'ì¸ì§€ì  ììœ¨ì„± ìƒì‹¤ ìœ„í—˜'
                ],
                advice: [
                    'AI ì‚¬ìš© ì „ 5ë¶„ ë¨¼ì € ìŠ¤ìŠ¤ë¡œ ìƒê°í•´ë³´ëŠ” ê·œì¹™ì„ ë§Œë“œì„¸ìš”',
                    'AI ë‹µë³€ì„ ìê¸° ë§ë¡œ ë°”ê¿” ì„¤ëª…í•˜ê²Œ í•´ë³´ì„¸ìš”',
                    'ì¼ì£¼ì¼ì— í•˜ë£¨ëŠ” "AI ì—†ëŠ” ë‚ "ë¡œ ì •í•´ë³´ì„¸ìš”',
                    'AIê°€ í‹€ë¦´ ìˆ˜ ìˆë‹¤ëŠ” ì‚¬ë¡€ë¥¼ í•¨ê»˜ ì°¾ì•„ë³´ì„¸ìš”'
                ]
            }
        };

        const riskLevels = {
            green: { icon: 'ğŸŸ¢', text: 'ê³ ììœ¨êµ°', class: 'risk-green', range: [85, 100] },
            blue: { icon: 'ğŸ”µ', text: 'ì•ˆì „êµ°', class: 'risk-blue', range: [65, 84] },
            yellow: { icon: 'ğŸŸ¡', text: 'ì£¼ì˜êµ°', class: 'risk-yellow', range: [45, 64] },
            red: { icon: 'ğŸ”´', text: 'ìœ„í—˜êµ°', class: 'risk-red', range: [0, 44] }
        };

        // ============================================
        // ìƒíƒœ ê´€ë¦¬
        // ============================================
        let currentQuestion = 0;
        let answers = {};
        let userAge = null;
        let userSubjects = [];
        let userEmail = '';
        let consentGiven = false;

        // ============================================
        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
        // ============================================
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
            window.scrollTo(0, 0);
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        // ============================================
        // ëœë”© í˜ì´ì§€ í•¨ìˆ˜
        // ============================================
        function toggleSubject(element) {
            const checkbox = element.querySelector('input');
            checkbox.checked = !checkbox.checked;
            element.classList.toggle('selected', checkbox.checked);

            // "ì—†ìŒ" ì„ íƒ ì‹œ ë‹¤ë¥¸ ì„ íƒ í•´ì œ
            if (element.dataset.subject === 'ì—†ìŒ' && checkbox.checked) {
                document.querySelectorAll('.subject-option').forEach(opt => {
                    if (opt.dataset.subject !== 'ì—†ìŒ') {
                        opt.classList.remove('selected');
                        opt.querySelector('input').checked = false;
                    }
                });
            }
            // ë‹¤ë¥¸ ê³¼ëª© ì„ íƒ ì‹œ "ì—†ìŒ" í•´ì œ
            if (element.dataset.subject !== 'ì—†ìŒ' && checkbox.checked) {
                const noneOption = document.querySelector('.subject-option[data-subject="ì—†ìŒ"]');
                if (noneOption) {
                    noneOption.classList.remove('selected');
                    noneOption.querySelector('input').checked = false;
                }
            }

            document.getElementById('subjectError').classList.remove('show');
        }

        function toggleConsent() {
            const checkbox = document.getElementById('consentCheckbox');
            const input = document.getElementById('consentInput');
            consentGiven = !consentGiven;
            input.checked = consentGiven;
            checkbox.classList.toggle('checked', consentGiven);
            checkbox.classList.remove('error');
            document.getElementById('consentError').classList.remove('show');
        }

        function validateInputs() {
            let isValid = true;

            // ë‚˜ì´ ê²€ì¦
            const ageInput = document.getElementById('ageInput');
            const ageValue = parseInt(ageInput.value, 10);
            if (isNaN(ageValue) || ageValue < 1 || ageValue > 25) {
                ageInput.classList.add('error');
                document.getElementById('ageError').classList.add('show');
                isValid = false;
            } else {
                ageInput.classList.remove('error');
                document.getElementById('ageError').classList.remove('show');
                userAge = ageValue;
            }

            // ê³¼ëª© ê²€ì¦
            const selectedSubjects = document.querySelectorAll('.subject-option.selected');
            if (selectedSubjects.length === 0) {
                document.getElementById('subjectError').classList.add('show');
                isValid = false;
            } else {
                userSubjects = Array.from(selectedSubjects).map(el => el.dataset.subject);
            }

            // ë™ì˜ ê²€ì¦
            if (!consentGiven) {
                document.getElementById('consentCheckbox').classList.add('error');
                document.getElementById('consentError').classList.add('show');
                isValid = false;
            }

            return isValid;
        }

        function startTest() {
            if (!validateInputs()) {
                const firstError = document.querySelector('.error, .error-message.show');
                if (firstError) {
                    firstError.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
                return;
            }

            userEmail = document.getElementById('emailInput').value.trim();
            currentQuestion = 0;
            answers = {};

            showScreen('question');
            renderQuestion();
        }

        // ============================================
        // ë¬¸í•­ í˜ì´ì§€ í•¨ìˆ˜
        // ============================================
        function renderQuestion() {
            const q = questions[currentQuestion];
            const totalQuestions = questions.length;

            // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
            document.getElementById('currentQ').textContent = currentQuestion + 1;
            document.getElementById('progressFill').style.width = `${((currentQuestion + 1) / totalQuestions) * 100}%`;

            // ì¹´í…Œê³ ë¦¬ í‘œì‹œ
            const categoryNames = {
                'P': 'ì„±ê²© íŠ¹ì„±',
                'U': 'AI ì‚¬ìš© í–‰ë™',
                'L': 'í•™ìŠµ ìŠ¤íƒ€ì¼',
                'S': 'ì„±ê²© ìœ í˜•'
            };
            document.getElementById('categoryText').textContent = categoryNames[q.category];

            const categoryBadge = document.getElementById('categoryBadge');
            categoryBadge.textContent = `${q.category} ${q.categoryName}`;
            categoryBadge.className = `category-badge category-${q.category.toLowerCase()}`;

            // ë¬¸í•­ ë‚´ìš©
            document.getElementById('questionNumber').textContent = `Q${currentQuestion + 1}`;
            document.getElementById('questionText').textContent = q.text;

            // ë¦¬ì»¤íŠ¸ ì²™ë„ ë Œë”ë§
            const container = document.getElementById('optionsContainer');
            container.innerHTML = `
                <div class="likert-container">
                    <div class="likert-scale">
                        ${likertLabels.map((label, idx) => {
                            const score = idx + 1;
                            const isSelected = answers[q.id] === score;
                            return `
                                <div class="likert-option ${isSelected ? 'selected' : ''}"
                                     onclick="selectLikert('${q.id}', ${score})">
                                    <div class="likert-circle">${score}</div>
                                    <span class="likert-label">${label}</span>
                                </div>
                            `;
                        }).join('')}
                    </div>
                </div>
            `;
        }

        function selectLikert(questionId, score) {
            answers[questionId] = score;

            // ì‹œê°ì  ì—…ë°ì´íŠ¸
            document.querySelectorAll('.likert-option').forEach((item) => {
                item.classList.remove('selected');
            });
            event.currentTarget.classList.add('selected');

            // ë‹¤ìŒ ë¬¸í•­ìœ¼ë¡œ ìë™ ì´ë™
            setTimeout(() => {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    renderQuestion();
                } else {
                    calculateAndShowResult();
                }
            }, 400);
        }

        // ============================================
        // ê²°ê³¼ ê³„ì‚° í•¨ìˆ˜
        // ============================================
        function calculateAndShowResult() {
            // P, U, L ì ìˆ˜ ê³„ì‚° (ë¦¬ì»¤íŠ¸ 5ì  ì²™ë„: 1-5)
            let pScore = 0, uScore = 0, lScore = 0;

            Object.keys(answers).forEach(key => {
                if (key.match(/^P[1-5]$/)) {
                    pScore += answers[key];
                } else if (key.match(/^U[1-7]$/)) {
                    uScore += answers[key];
                } else if (key.match(/^L[1-5]$/)) {
                    lScore += answers[key];
                }
            });

            // ì •ê·œí™” (0-100 ìŠ¤ì¼€ì¼)
            // P: 5ë¬¸í•­ Ã— 1~5ì  = 5~25ì  â†’ (ì ìˆ˜-5)/20 Ã— 100
            // U: 7ë¬¸í•­ Ã— 1~5ì  = 7~35ì  â†’ (ì ìˆ˜-7)/28 Ã— 100
            // L: 5ë¬¸í•­ Ã— 1~5ì  = 5~25ì  â†’ (ì ìˆ˜-5)/20 Ã— 100
            const pNorm = ((pScore - 5) / 20) * 100;
            const uNorm = ((uScore - 7) / 28) * 100;
            const lNorm = ((lScore - 5) / 20) * 100;

            // HRS ê³„ì‚°
            const hrs = Math.round((pNorm * 0.25) + (uNorm * 0.50) + (lNorm * 0.25));

            // ì„±ê²© ìœ í˜• ê²°ì • (S1, S2) - ë¦¬ì»¤íŠ¸ 5ì  ì²™ë„ ê¸°ì¤€
            // S1: ê¼¼ê¼¼í•¨ ì¤‘ì‹œ (â‰¥3 = ì •ë°€, <3 = ì‹ ì†)
            // S2: ìƒˆë¡œìš´ ë°©ë²• íƒìƒ‰ (â‰¥3 = íƒìƒ‰, <3 = ê³ ì •)
            const s1Score = answers['S1'] || 3;
            const s2Score = answers['S2'] || 3;

            const isPrecise = s1Score >= 3;  // ì •ë°€ vs ì‹ ì†
            const isExplore = s2Score >= 3;  // íƒìƒ‰ vs ê³ ì •

            let userType;
            if (isPrecise && isExplore) {
                userType = 'pilot';     // ì •ë°€ + íƒìƒ‰
            } else if (isPrecise && !isExplore) {
                userType = 'engineer';  // ì •ë°€ + ê³ ì •
            } else if (!isPrecise && isExplore) {
                userType = 'surfer';    // ì‹ ì† + íƒìƒ‰
            } else {
                userType = 'passenger'; // ì‹ ì† + ê³ ì •
            }

            // ìœ„í—˜ ë“±ê¸‰ ê²°ì •
            let riskLevel;
            if (hrs >= 85) riskLevel = 'green';
            else if (hrs >= 65) riskLevel = 'blue';
            else if (hrs >= 45) riskLevel = 'yellow';
            else riskLevel = 'red';

            // ê²°ê³¼ í‘œì‹œ
            displayResult(userType, riskLevel, hrs, pScore, uScore, lScore);
        }

        function displayResult(userType, riskLevel, hrs, pScore, uScore, lScore) {
            showScreen('result');

            const profile = typeProfiles[userType];
            const risk = riskLevels[riskLevel];

            // í—¤ë”
            document.getElementById('resultIcon').textContent = profile.icon;
            document.getElementById('resultTypeName').textContent = profile.name;
            document.getElementById('resultTypeSubtitle').textContent = profile.subtitle;

            // ìœ„í—˜ ë°°ì§€
            const riskBadge = document.getElementById('riskBadge');
            riskBadge.className = `risk-badge ${risk.class}`;
            document.getElementById('riskIcon').textContent = risk.icon;
            document.getElementById('riskText').textContent = `${risk.text} (HRS ${hrs}ì )`;

            // ìƒì„¸ ë‚´ìš©
            document.getElementById('resultDescription').textContent = profile.description;

            document.getElementById('strengthsList').innerHTML =
                profile.strengths.map(s => `<li>${s}</li>`).join('');

            document.getElementById('weaknessesList').innerHTML =
                profile.weaknesses.map(w => `<li>${w}</li>`).join('');

            document.getElementById('adviceList').innerHTML =
                profile.advice.map(a => `<li>${a}</li>`).join('');

            // ì ìˆ˜
            document.getElementById('pScore').textContent = pScore;
            document.getElementById('uScore').textContent = uScore;
            document.getElementById('lScore').textContent = lScore;

            // ë°ì´í„° ì €ì¥
            submitData(userType, riskLevel, hrs, pScore, uScore, lScore);
        }

        // ============================================
        // ë°ì´í„° ì œì¶œ
        // ============================================
        async function submitData(userType, riskLevel, hrs, pScore, uScore, lScore) {
            if (GOOGLE_SCRIPT_URL.includes('YOUR_GOOGLE_APPS_SCRIPT_URL_HERE')) {
                console.log('Google Apps Script URL not configured.');
                return;
            }

            const payload = {
                timestamp: new Date().toISOString(),
                age: userAge,
                subjects: userSubjects.join(', '),
                email: userEmail,
                consent: consentGiven,
                answers: answers,
                pScore: pScore,
                uScore: uScore,
                lScore: lScore,
                hrs: hrs,
                userType: userType,
                riskLevel: riskLevel
            };

            try {
                await fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
            } catch (error) {
                console.error('Submission error:', error);
            }
        }

        // ============================================
        // ê²°ê³¼ ê³µìœ  ë° ì¬ì‹œì‘
        // ============================================
        function copyResult() {
            const typeName = document.getElementById('resultTypeName').textContent;
            const riskText = document.getElementById('riskText').textContent;
            const description = document.getElementById('resultDescription').textContent;

            const text = `ğŸ§’ ìš°ë¦¬ì•„ì´ AIíƒ€ì… ì§„ë‹¨ ê²°ê³¼

ğŸ¯ ìœ í˜•: ${typeName}
ğŸ“Š ${riskText}

${description}

ğŸ‘‰ ë‚˜ë„ ê²€ì‚¬í•´ë³´ê¸°: ${window.location.href}`;

            navigator.clipboard.writeText(text).then(() => {
                showToast('ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(() => {
                showToast('ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
            });
        }

        function restartTest() {
            // ìƒíƒœ ì´ˆê¸°í™”
            userAge = null;
            userSubjects = [];
            userEmail = '';
            consentGiven = false;
            currentQuestion = 0;
            answers = {};

            // UI ì´ˆê¸°í™”
            document.getElementById('ageInput').value = '';
            document.getElementById('ageInput').classList.remove('error');
            document.getElementById('ageError').classList.remove('show');

            document.querySelectorAll('.subject-option').forEach(opt => {
                opt.classList.remove('selected');
                opt.querySelector('input').checked = false;
            });
            document.getElementById('subjectError').classList.remove('show');

            document.getElementById('consentInput').checked = false;
            document.getElementById('consentCheckbox').classList.remove('checked', 'error');
            document.getElementById('consentError').classList.remove('show');

            document.getElementById('emailInput').value = '';

            showScreen('landing');
        }

        // ============================================
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì´ˆê¸°í™”
        // ============================================
        document.addEventListener('DOMContentLoaded', () => {
            // ê³¼ëª© ì„ íƒ ì´ë²¤íŠ¸
            document.querySelectorAll('.subject-option').forEach(opt => {
                opt.addEventListener('click', () => toggleSubject(opt));
            });
        });
    </script>
</body>
</html>
